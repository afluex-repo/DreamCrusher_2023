@model DharaMLM.Models.DashBoard
@{
    ViewBag.Title = "AdminDashBoard";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}


<div class="section-header">
    <div class="row">
        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12">
            <div class="section-header-breadcrumb-content">
                <h1>Admin Dashboard</h1>
            </div>
        </div>

    </div>
</div>

<div class="row">
    <div class="col-lg-3 col-md-6 col-sm-12">
        <div class="card card-sales-widget card-bg-blue-gradient">
            <div class="card-icon shadow-primary bg-blue">
                <i class="fas fa-user-plus"></i>
            </div>
            <div class="card-wrap pull-right">
                <div class="card-header">
                    <h3>@ViewBag.TotalUsers</h3>
                    <h4>Total Associates</h4>
                </div>
            </div>
            <div class="card-chart">
                <div id="chart-1"></div>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-6 col-sm-12">
        <div class="card card-sales-widget card-bg-yellow-gradient">
            <div class="card-icon shadow-primary bg-warning">
                <i class="fas fa-user"></i>
            </div>
            <div class="card-wrap pull-right">
                <div class="card-header">
                    <h3>@ViewBag.ActiveUsers</h3>
                    <h4>Active Users</h4>
                </div>
            </div>
            <div class="card-chart">
                <div id="chart-2"></div>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-6 col-sm-12">
        <div class="card card-sales-widget card-bg-orange-gradient">
            <div class="card-icon shadow-primary bg-hibiscus">
                <i class="fas fa-user"></i>
            </div>
            <div class="card-wrap pull-right">
                <div class="card-header">
                    <h3>@ViewBag.InactiveUsers</h3>
                    <h4>Inactive Users</h4>
                </div>
            </div>
            <div class="card-chart">
                <div id="chart-3"></div>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-6 col-sm-12">
        <div class="card card-sales-widget card-bg-green-gradient">
            <div class="card-icon shadow-primary bg-green">
                <i class="fas fa-user"></i>
            </div>
            <div class="card-wrap pull-right">
                <div class="card-header">
                    <h3>@ViewBag.BlockedUsers</h3>
                    <h4>Blocked Users</h4>
                </div>
            </div>
            <div class="card-chart">
                <div id="chart-4"></div>
            </div>
        </div>
    </div>
   
</div>


<!-- /.row -->
<div class="row">
    <div class="col-lg-3">
        <div class="panel panel-default">
            <div class="panel-heading">
                Associate Details


            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                <div id="divusers"></div>
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
        <!-- /.panel -->
    </div>

    <div class="col-lg-3">
        <div class="panel panel-default">
            <div class="panel-heading">
               Payout Status


            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                <div id="divpayout"></div>
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
        <!-- /.panel -->
    </div>

    <div class="col-lg-6">
        <div class="panel panel-default">
            <div class="panel-heading">
               Investment Details


            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                <div id="divinvestment"></div>
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
        <!-- /.panel -->
    </div>
</div>
<div class="row">
    <div class="col-lg-6">
        <div class="panel panel-default">
            <div class="panel-heading">
                Joining Details


            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                <div id="divjoining"></div>
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
        <!-- /.panel -->
    </div>
</div>
<meta charset="UTF-8">
<meta content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no" name="viewport">
<title>DreamCrusher - User Dashboard Template</title>
<!-- General CSS Files -->
<link rel="stylesheet" href="../assets/css/app.min.css">
<!-- Template CSS -->
<link rel="stylesheet" href="../assets/css/style.css">
<link rel="stylesheet" href="../assets/css/components.css">
<link rel="stylesheet" href="../assets/bundles/bootstrap-social/bootstrap-social.css">
<link rel="stylesheet" href="../assets/bundles/flag-icon-css/css/flag-icon.min.css">
<!-- Custom style CSS -->

<link rel='shortcut icon' type='image/x-icon' href='../assets/img/favicon.ico' />
<script src="../vendor/jquery/jquery.min.js"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">

    google.charts.load('current', { 'packages': ['corechart'] });
    google.charts.setOnLoadCallback(bindusers);

    function bindusers() {
        $.ajax({
            type: 'POST',
            dataType: 'json',
            contentType: 'application/json',
            url: '/Admin/GetUserDetails',
            data: JSON.stringify(),
            success:
            function (response) {
                var datare = response;
                var data = new google.visualization.DataTable();

                data.addColumn('string', 'Status');
                data.addColumn('number', 'Total');
                for (var i = 0; i < datare.length; i++) {
                    data.addRow([datare[i].Status, parseInt(datare[i].Total)]);
                }

                var chart = new google.visualization.PieChart(document.getElementById('divusers'));
                var options = {
                    pieSliceText: 'value-and-percentage',
                    format: 'decimal',
                    is3D: true,
                    legend: { position: 'bottom' },
                    animation: {
                        startup: true,
                        duration: 1000,
                        easing: 'out',
                    }, chartArea: { width: "100%", height: "80%" }
                };

                chart.draw(data, options);




            },
            error: function () {
            }
        });
    }

</script>


<script type="text/javascript">

    google.charts.load('current', { 'packages': ['corechart'] });
    google.charts.setOnLoadCallback(bindrecharegedetails);

    function bindrecharegedetails() {
        $.ajax({
            type: 'POST',
            dataType: 'json',
            contentType: 'application/json',
            url: '/Admin/GetPayoutStatus',
            data: JSON.stringify(),
            success:
            function (response) {
                var datare = response;
                var data = new google.visualization.DataTable();

                data.addColumn('string', 'Status');
                data.addColumn('number', 'Total');
                for (var i = 0; i < datare.length; i++) {
                    data.addRow([datare[i].Status, parseInt(datare[i].Total)]);
                }

                var chart = new google.visualization.PieChart(document.getElementById('divpayout'));
                var options = {
                    pieSliceText: 'value-and-percentage',
                    format: 'decimal',
                    is3D: true,
                    legend: { position: 'bottom' },
                    animation: {
                        startup: true,
                        duration: 1000,
                        easing: 'out',
                    }, chartArea: { width: "100%", height: "80%" }
                };

                chart.draw(data, options);




            },
            error: function () {
            }
        });
    }

</script>


<script type="text/javascript">

        google.charts.load("current", { packages: ["imagebarchart"] });
        google.charts.setOnLoadCallback(drawChart);

        function drawChart() {
            $.ajax({
                type: 'POST',
                dataType: 'json',
                contentType: 'application/json',
                url: '/Admin/GetInvestmentDetails',
                data: JSON.stringify(),
                success:
                function (response) {
                    var datare = response;
                    var data = new google.visualization.DataTable();

                    data.addColumn('string', 'Month');
                    data.addColumn('number', 'Investment');
                    for (var i = 0; i < datare.length; i++) {
                        data.addRow([datare[i].Month, parseInt(datare[i].Amount)]);
                    }

                    var chart = new google.visualization.ImageBarChart(document.getElementById('divinvestment'));
                    var options = {
                        pieSliceText: 'value-and-percentage',
                        format: 'decimal',
                        is3D: true,
                        legend: { position: 'bottom' },
                        animation: {
                            startup: true,
                            duration: 1000,
                            easing: 'out',
                        }, chartArea: { width: "100%", height: "80%" }
                    };
                    chart.draw(data, options);
                },
                error: function () {
                }
            });
        }

</script>


<script type="text/javascript">

        google.charts.load("current", { packages: ["imagebarchart"] });
        google.charts.setOnLoadCallback(joiningdata);

        function joiningdata() {
            $.ajax({
                type: 'POST',
                dataType: 'json',
                contentType: 'application/json',
                url: '/Admin/GetJoiningDeatils',
                data: JSON.stringify(),
                success:
                function (response) {
                    var datare = response;
                    var data = new google.visualization.DataTable();

                    data.addColumn('string', 'Month');
                    data.addColumn('number', 'Total Users');
                    for (var i = 0; i < datare.length; i++) {
                        data.addRow([datare[i].Month, parseInt(datare[i].Total)]);
                    }

                    var chart = new google.visualization.ImageBarChart(document.getElementById('divjoining'));
                    var options = {
                        pieSliceText: 'value-and-percentage',
                        format: 'decimal',
                        is3D: true,
                        legend: { position: 'bottom' },
                        animation: {
                            startup: true,
                            duration: 1000,
                            easing: 'out',
                        }, chartArea: { width: "100%", height: "80%" }
                    };

                    chart.draw(data, options);




                },
                error: function () {
                }
            });
        }

</script>
